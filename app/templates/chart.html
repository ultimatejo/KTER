{% extends "base.html" %}
{% import "bootstrap_wtf.html" as wtf %}

{% block content %}
    <h1>Welcome to Daft Ideas 'r' us</h1>
    <div>
        <p>This page is a proof of concept.</p>
    </div>

    <div class="container">
        <h2 class="text-center">Dynamic Sine Wave</h2>

        <label for="frequencySlider" class="form-label">Frequency: <span id="freqValue">1</span></label>
        <input type="range" class="form-range" id="frequencySlider" min="0.5" max="5" step="0.1" value="1">

        <div id="chart">{{ chart_html | safe }}</div>
    </div>

    <script>
        $(document).ready(function() {
            $("#frequencySlider").on("input", function() {
                let frequency = $(this).val();
                $("#freqValue").text(frequency);

                $.post("/update_chart", { frequency: frequency }, function(data) {
                    $("#chart").html(data.chart_html);
                });
            });
        });
    </script>

{% endblock %}
